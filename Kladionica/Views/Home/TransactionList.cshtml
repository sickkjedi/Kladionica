@model IEnumerable<Kladionica.Models.Transaction>

<div id="transaction-list">
    <table class="table">
        <thead>
            <tr>
                <td>
                    <h5> Raspoloživi iznos:  @ViewBag.Amount KN</h5>
                </td>
                <td>
                    <strong>Uplati iznos:</strong>
                    <input type="number" id="depositAmount" step="0.01" min="0" placeholder="KN" />
                    <input class="btn btn-success" type="button" id="btnDeposit" value="Uplati" />
                </td>
                <td></td>
            </tr>
        </thead>
        <tbody>
            @foreach (var trans in Model)
            {
                <tr>
                    <td>
                        @trans.TransactionId
                    </td>
                    <td>
                        @trans.Amount
                    </td>
                    <td>
                        @trans.Date
                    </td>
                </tr>
            }

        </tbody>
    </table>
</div>

@section Scripts{
    <script type="text/javascript">
    $(document).ready(function () {
        var url = '@Url.Action("TransactionList", "Home")';
        $("body").on("click", "#btnDeposit", function () {
            var amount = $('input[id=depositAmount]').val();
            $('#transaction-list').load(url, { amount: amount });
        });
    });

    </script>
}

